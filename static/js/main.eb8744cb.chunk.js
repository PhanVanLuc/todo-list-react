(this["webpackJsonpreact-hooks-basic"]=this["webpackJsonpreact-hooks-basic"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),s=n(11),a=n.n(s),i=(n(16),n(2)),l=n(4),r=n.n(l),d=n(10),j=n(8),h=n(3),u=n(0);function b(e){var t=e.todos,n=e.onTodoClick,o=e.onTodoCheck,s=e.onToggleForm,a=e.Display,i=e.editDisplay,l=e.onToggleEditForm,r=e.onSearch,d=Object(c.useState)(""),j=Object(h.a)(d,2),b=j[0],p=j[1];return Object(u.jsxs)("div",{className:i||a?"col-xs-8 col-sm-8 col-md-8 col-lg-8":"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){s()},children:"Th\xeam c\xf4ng vi\u1ec7c"})}),Object(u.jsx)("div",{className:"row mt-2",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return p(""),void r("")},children:"x"}),Object(u.jsx)("input",{value:b,type:"text",className:"form-control",name:"search",placeholder:"Nh\u1eadp t\u1eeb kh\xf3a...",onChange:function(e){var t=e.target.value;p(t)}}),Object(u.jsx)("span",{className:"input-group-btn",children:Object(u.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){r(b)},children:"T\xecm"})})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"STT"}),Object(u.jsx)("th",{scope:"col",children:"T\xean c\xf4ng vi\u1ec7c"}),Object(u.jsx)("th",{scope:"col",className:"text-center",children:"Tr\u1ea1ng th\xe1i"}),Object(u.jsx)("th",{scope:"col",className:"text-center",children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:t+1}),Object(u.jsx)("td",{children:e.title}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("input",{checked:!!e.done,type:"checkbox",id:e.id.toString(),onChange:function(){return function(e){o(e)}(e)}})}),Object(u.jsxs)("td",{className:"text-center",children:[Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(e){n&&n(e)}(e)},children:"X\xf3a"}),Object(u.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return function(e){l(e)}(e)},children:"S\u1eeda"})]})]},e.id)}))})]})})]})}b.defaultProps={todos:[],onTodoClick:null,onTodoCheck:null,onToggleForm:null,onToggleEditForm:null,onSearch:function(){},Display:!1,editDisplay:!1};var p=b,m=n(5);function O(e){var t=e.onSubmit,n=e.onCloseForm,o=Object(c.useState)({title:"",done:!1}),s=Object(h.a)(o,2),a=s[0],l=s[1];function r(e){var t=e.target.value,n=e.target.name;l(Object(i.a)(Object(i.a)({},a),{},Object(m.a)({},n,t)))}return Object(u.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-warning",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-10",children:Object(u.jsx)("h3",{className:"panel-title text-white text-left",children:"Th\xeam C\xf4ng Vi\u1ec7c"})}),Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)("h3",{children:Object(u.jsx)("span",{className:"far fa-times-circle text-white",onClick:function(){n()}})})})]})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t){var n={title:a.title,done:a.done};console.log(n),t(n),l({title:"",done:!1})}},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"T\xean :"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:a.title,onChange:r,name:"title"}),Object(u.jsx)("label",{children:"Tr\u1ea1ng Th\xe1i :"}),Object(u.jsxs)("select",{className:"form-control",required:!0,onChange:r,name:"done",children:[Object(u.jsx)("option",{value:"0",children:"Ch\u01b0a ho\xe0n th\xe0nh"}),Object(u.jsx)("option",{value:"1",children:"\u0110\xe3 ho\xe0n th\xe0nh"})]})]}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-warning",children:"Th\xeam"}),"\xa0"]})]})})]})})}O.defaultProps={onSubmit:null,onCloseForm:null};var x=O;function f(e){var t=e.onSubmit,n=e.onCloseForm,o=e.todo,s=Object(c.useState)(Object(i.a)({},o)),a=Object(h.a)(s,2),l=a[0],r=a[1];function d(e){var t=e.target.value,n=e.target.name;r(Object(i.a)(Object(i.a)({},l),{},Object(m.a)({},n,t)))}return Object(u.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-warning",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-10",children:Object(u.jsx)("h3",{className:"panel-title text-white text-left",children:"S\u1eeda C\xf4ng Vi\u1ec7c"})}),Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)("h3",{children:Object(u.jsx)("span",{className:"far fa-times-circle text-white",onClick:function(){n()}})})})]})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t){var n={id:l.id,title:l.title,done:l.done};console.log(n),t(n)}},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"T\xean :"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:l.title,onChange:d,name:"title"}),Object(u.jsx)("label",{children:"Tr\u1ea1ng Th\xe1i :"}),Object(u.jsxs)("select",{className:"form-control",required:!0,onChange:d,value:l.done.toString(),name:"done",children:[Object(u.jsx)("option",{value:"false",children:"Ch\u01b0a ho\xe0n th\xe0nh"}),Object(u.jsx)("option",{value:"true",children:"\u0110\xe3 ho\xe0n th\xe0nh"})]})]}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-warning",children:"S\u1eeda"}),"\xa0"]})]})})]})})}f.defaultProps={onSubmit:null,onCloseForm:null,todo:null};var v=f;n(19);var g=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)(!1),a=Object(h.a)(s,2),l=a[0],b=a[1],m=Object(c.useState)(!1),O=Object(h.a)(m,2),f=O[0],g=O[1],N=Object(c.useState)(),y=Object(h.a)(N,2),T=y[0],C=y[1];function k(){return S.apply(this,arguments)}function S(){return S=Object(j.a)(r.a.mark((function e(){var t,n,c,s,a,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",e.prev=1,n="https://rails-api-todo-list.herokuapp.com/api/v1/todos?search=".concat(t),e.next=5,fetch(n);case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,console.log({responseJSON:s}),a=s,console.log(a),o(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("Failed to fetch post list: ",e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),S.apply(this,arguments)}function w(){b(!1),g(!1)}function F(){return(F=Object(j.a)(r.a.mark((function e(t){var c,s,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(i.a)(Object(i.a)({},t),{},{done:!t.done}))},e.next=4,fetch("https://rails-api-todo-list.herokuapp.com/api/v1/todos/".concat(t.id),c);case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,l=n.map((function(e){return e.id===a.id&&(e.done=a.done),e})),o(l),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function D(){return(D=Object(j.a)(r.a.mark((function e(t){var c,s,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(i.a)(Object(i.a)({},t),{},{title:t.title,done:t.done}))},e.next=4,fetch("https://rails-api-todo-list.herokuapp.com/api/v1/todos/".concat(t.id),c);case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,l=n.map((function(e){return e.id===a.id&&(e.title=a.title,e.done=a.done),e})),o(l),g(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}Object(c.useEffect)((function(){k()}),[]);var E=l?Object(u.jsx)(x,{onSubmit:function(e){console.log("form submit:",e),fetch("https://rails-api-todo-list.herokuapp.com/api/v1/todos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e,c=Object(d.a)(n);c.push(t),o(c)})).catch((function(e){return console.log(e)}))},onCloseForm:w}):"",P=f?Object(u.jsx)(v,{onSubmit:function(e){return D.apply(this,arguments)},onCloseForm:w,todo:T}):"";return Object(u.jsxs)("div",{className:"App container",children:[Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h1",{children:"Todo List"}),Object(u.jsx)("hr",{})]}),Object(u.jsxs)("div",{className:"row",children:[E,P,Object(u.jsx)(p,{todos:n,editDisplay:f,Display:l,onToggleForm:function(){b(!l),g(!1)},onToggleEditForm:function(e){C(e),console.log(e),g(!0),b(!1)},onTodoClick:function(e){fetch("https://rails-api-todo-list.herokuapp.com/api/v1/todos/"+e.id,{method:"DELETE"}).then((function(t){var c=n.findIndex((function(t){return t.id===e.id}));if(!(c<0)){var s=Object(d.a)(n);s.splice(c,1),o(s)}})).catch((function(e){return console.log(e)})),console.log(e)},onTodoCheck:function(e){return F.apply(this,arguments)},onSearch:function(e){k(e)}})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),N()}},[[20,1,2]]]);
//# sourceMappingURL=main.eb8744cb.chunk.js.map